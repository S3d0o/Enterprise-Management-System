@model string
@{
    var modalId = ViewData["ModalId"]?.ToString() ?? Guid.NewGuid().ToString();
    var entityType = ViewData["EntityType"]?.ToString() ?? "Employee";
    var controller = ViewData["Controller"]?.ToString() ?? "Employee";
    var id = ViewData["Id"];
}

<div class="modal fade" id="deleteModal-@modalId" tabindex="-1" aria-labelledby="deleteModalLabel-@modalId" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content shadow-lg rounded-3">
            <div class="modal-header bg-light">
                <h1 class="modal-title fs-5" id="deleteModalLabel-@modalId">Delete @entityType</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body text-center p-4">
                Are you sure you want to delete this @entityType.ToLower():
                <strong>@(Model ?? "Unknown")</strong>?
                <div class="mt-3">
                    <input type="checkbox" id="confirmDelete-@modalId" class="form-check-input me-2" />
                    <label for="confirmDelete-@modalId" class="form-check-label">I confirm the deletion</label>
                </div>
            </div>

            <div class="modal-footer bg-light">
                <form method="post" asp-action="Delete" asp-controller="@controller" asp-route-id="@id" onsubmit="return validateDelete('@modalId')">
                    <button type="button" class="btn btn-outline-secondary rounded-pill px-3" data-bs-dismiss="modal">Cancel</button>
                    <input type="submit" value="Delete" class="btn btn-danger rounded-pill px-3" id="deleteButton-@modalId" disabled />
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById('confirmDelete-@modalId').addEventListener('change', function () {
        document.getElementById('deleteButton-@modalId').disabled = !this.checked;
    });

    function validateDelete(modalId) {
        const confirmCheckbox = document.getElementById('confirmDelete-' + modalId);
        if (!confirmCheckbox.checked) {
            alert('Please confirm the deletion before proceeding.');
            return false;
        }
        return true;
    }
</script>
